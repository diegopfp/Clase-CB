/* ===== Reset m√≠nimo ===== */
*,
*::before,
*::after { box-sizing: border-box; }

:root{
  /* Paleta azul clara */
  --bg-page: #f5f9ff;
  --fg: #0a1a2b;
  --muted: #4f6b87;

  --blue-50:  #eef6ff;
  --blue-100: #d7ecff;
  --blue-200: #bfe0ff;
  --blue-300: #8ec5ff;
  --blue-400: #5aa8ff;
  --blue-500: #2f8dff;
  --blue-600: #2273d9;
  --blue-700: #1a5bb0;

  --panel: #ffffff;
  --line: #d7e3f3;
  --bubble-ai:#eef6ff;
  --bubble-me:#d7ecff;

  --ok:#16a34a; --warn:#f59e0b; --err:#ef4444;

  --shadow: 0 10px 28px rgba(21, 64, 120, .18);
  --radius: 14px;
  --radius-sm: 10px;
  --mono: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
  --font: system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
}

html,body{
  margin:0; padding:0; background:var(--bg-page); color:var(--fg); font:14px/1.45 var(--font);
}

.demo{min-height:60vh; padding:10vh 6vw 20vh}
.demo h1{margin:.2rem 0 0; font-size:28px}
.demo p{color:var(--muted); margin:.2rem 0 0}

/* === FAB (launcher) === */
.cde-fab{
  position: fixed; right: 18px; bottom: 18px; z-index: 60;
  width:58px; height:58px; border-radius:50%;
  display:grid; place-items:center; cursor:pointer;
  border:1px solid var(--blue-200);
  background: linear-gradient(135deg, var(--blue-500), var(--blue-300));
  color:#06223c; font-weight:900; font-size:22px;
  box-shadow: var(--shadow);
}

/* === Panel === */
.cde-chat{
  position: fixed; right: 18px; bottom: 18px; z-index: 70;
  width: min(460px, calc(100vw - 24px));
  height: min(78vh, 720px);
  background: var(--panel);
  border: 1px solid var(--line);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  display:flex; flex-direction:column; overflow:hidden;
}

/* Header */
.cde-head{
  height:58px; display:flex; align-items:center; justify-content:space-between;
  padding: 0 10px 0 12px;
  background: linear-gradient(90deg, var(--blue-600), var(--blue-500));
  color: #fff;
  border-bottom: 1px solid var(--blue-300);
}
.brand{display:flex; align-items:center; gap:10px}
.logo{
  font-weight:900; letter-spacing:.6px;
  background: rgba(255,255,255,.15);
  padding: 6px 8px; border-radius: 8px; border:1px solid rgba(255,255,255,.25);
}
.title{font-weight:700}
.right{display:flex; align-items:center; gap:8px}

.icon-btn{
  border:1px solid rgba(255,255,255,.35);
  background: rgba(255,255,255,.2);
  color:#fff; width:34px; height:34px; border-radius:10px;
  font-size:20px; font-weight:800; cursor:pointer;
}

/* Pills */
.pill{font-size:12px; padding:6px 10px; border-radius:999px; border:1px solid transparent; white-space:nowrap}
.pill-ok{background:#dcfce7;color:#065f46;border-color:#bbf7d0}
.pill-warn{background:#fff7ed;color:#92400e;border-color:#ffedd5}
.pill-err{background:#fee2e2;color:#7f1d1d;border-color:#fecaca}

/* === Body (FIX: columna, no fila) === */
.cde-body{
  display:flex; flex-direction:column;  /* <- clave para apilar */
  flex:1; min-height:0; min-width:0;
}

/* Mensajes */
.msgs{
  flex:1; overflow:auto; padding:12px;
  display:flex; flex-direction:column; gap:8px;
  background: linear-gradient(180deg, var(--blue-50), #fff);
  min-width:0;
}
.msg{
  max-width: 78%;
  padding: 10px 12px;
  border-radius: var(--radius-sm);
  white-space: pre-wrap; word-break: break-word;
  border: 1px solid var(--line);
  box-shadow: 0 1px 0 rgba(255,255,255,.6) inset;
}
.msg.ai{ align-self:flex-start; background: var(--bubble-ai); border-top-left-radius: 6px }
.msg.me{ align-self:flex-end; background: var(--bubble-me); border-top-right-radius: 6px }

/* Toolbar (API + Health) */
.toolbar{
  display:flex; gap:8px; align-items:center;
  padding:8px; border-top:1px solid var(--line); background:#fafcff;
}
.api{
  flex:1; padding:8px 10px; border-radius:10px; border:1px solid var(--line);
  background:#fff; color:var(--fg); font-family:var(--mono);
}

/* Input */
.inputbar{
  display:flex; gap:8px; align-items:center;
  padding:10px; border-top:1px solid var(--line); background:#fff;
}
.inputbar textarea{
  flex:1; resize:none; max-height:120px; min-height:42px;
  padding:10px 12px; border-radius:10px; border:1px solid var(--line);
  background:#fff; color:var(--fg); outline:none;
}
.btn{
  padding:10px 12px; border-radius:10px; border:1px solid var(--blue-300); cursor:pointer;
  background:#f0f6ff; color:var(--blue-700);
}
.btn-primary{
  background: linear-gradient(135deg, var(--blue-500), var(--blue-400));
  color:#06223c; font-weight:800;
}

/* Responsive */
@media (max-width:560px){
  .cde-chat{ right:10px; left:10px; width:auto; height:85vh; }
}
